<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Elio Campitelli" />


<title>35-cEOF Superensamble - MAM</title>

<link href="35-cEOF-CMIP6-superensemble-MAM_files/tufte-css/tufte-fonts.css" rel="stylesheet" />
<link href="35-cEOF-CMIP6-superensemble-MAM_files/tufte-css/tufte-background.css" rel="stylesheet" />
<link href="35-cEOF-CMIP6-superensemble-MAM_files/tufte-css/tufte-italics.css" rel="stylesheet" />
<link href="35-cEOF-CMIP6-superensemble-MAM_files/tufte-css/tufte.css" rel="stylesheet" />
<link href="35-cEOF-CMIP6-superensemble-MAM_files/highlightjs/default.css" rel="stylesheet" />
<script src="35-cEOF-CMIP6-superensemble-MAM_files/highlightjs/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>










</head>

<body>




<h1 class="title toc-ignore">35-cEOF Superensamble - MAM</h1>
<h4 class="author">Elio Campitelli</h4>
<h4 class="date">2023-01-26 13:06:20</h4>



<pre><code>## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)
## Called from: FUN(X[[i]], ...)
## debug at &lt;text&gt;#23: nulos &lt;- file.size(file_in) == 0
## debug at &lt;text&gt;#24: if (any(nulos)) {
##     warning(&quot;Archivo(s) nulos: \n&quot;, paste0(file_in[nulos], collapse = &quot;\n&quot;))
##     return(NA_character_)
## }
## debug at &lt;text&gt;#28: message(&quot;Procesando archivos &quot;, basename(file_in[1]))
## debug at &lt;text&gt;#29: var &lt;- substr(basename(file_in[1]), 1, 1)
## debug at &lt;text&gt;#32: to_regrid &lt;- FALSE
## debug at &lt;text&gt;#33: if (var == &quot;t&quot;) {
##     grid &lt;- tempfile()
##     invisible(capture.output(t &lt;- system(paste0(&quot;cdo griddes &quot;, 
##         file_in[1], &quot; &gt; &quot;, grid), intern = TRUE)))
##     if (length(grep(&quot;generic&quot;, readLines(grid))) != 0) {
##         to_regrid &lt;- TRUE
##         invisible(capture.output(t &lt;- system(paste0(&quot;sed -i \&quot;s/generic/lonlat/g\&quot; &quot;, 
##             grid), intern = TRUE)))
##     }
## }
## debug at &lt;text&gt;#46: temp_files &lt;- furrr::future_map_chr(file_in, function(file) {
##     file_out &lt;- tempfile(fileext = &quot;.nc&quot;)
##     if (to_regrid) {
##         outfile &lt;- tempfile(fileext = &quot;.nc&quot;)
##         invisible(capture.output(t &lt;- system(paste0(&quot;cdo setgrid,&quot;, 
##             grid, &quot; &quot;, file, &quot; &quot;, outfile))))
##         file &lt;- outfile
##     }
##     if (var == &quot;z&quot;) {
##         select &lt;- &quot;-sellevel,20000,5000&quot;
##         remap &lt;- NULL
##     }
##     else {
##         select &lt;- NULL
##         remap &lt;- &quot;-remapdis,r240x60&quot;
##     }
##     s &lt;- capture.output(system(paste0(&quot;cdo &quot;, select, &quot; -timselmean,3 -select,season=&quot;, 
##         toupper(params$season), &quot; &quot;, remap, &quot; &quot;, shQuote(file), 
##         &quot; &quot;, shQuote(file_out)), intern = TRUE))
##     if (!file.exists(file_out)) {
##         file_out &lt;- NA_character_
##     }
##     return(file_out)
## })
## debug at &lt;text&gt;#77: s &lt;- system(paste0(&quot;cdo mergetime &quot;, paste0(shQuote(temp_files), 
##     collapse = &quot; &quot;), &quot; &quot;, shQuote(file_out)))
## debug at &lt;text&gt;#80: if (s == 1) {
##     return(NA_character_)
## }
## debug at &lt;text&gt;#83: unlink(temp_files)
## debug at &lt;text&gt;#84: return(file_out)</code></pre>
<div id="mtodos" class="section level1">
<h1><span class="header-section-number">1</span> Mtodos</h1>
<p>Dada la experiencia anterior, voy a calcular los cEOFs usando todos los miembros concatenados: el superensemble (?).</p>
<p>Algunos detalles:</p>
<ul>
<li>Medias estacionales de MAM<br />
</li>
<li>Estandarizo cada nivel usando el desvio estndard de la climatologa 1985  2014<br />
</li>
<li>Me quedo slo con una inicializacin, fsica y forzante por modelo.<br />
</li>
<li>Me quedo slo con modelos con ms de 5 miembros.</li>
<li>Tendencias: Calculo ambos casos.</li>
<li>Tendencioso: No le quito la tendencia</li>
<li>Destendenciado: le quito la tendencia en cada punto usando un ajuste cuadrtico con el tiempo.</li>
</ul>
<p>En la Tabla <a href="#tab:descripcion">1.1</a> se listan todos los modelos y la cantidad de miembros de cada uno.</p>
<p><!--
<caption>--><span class="marginnote shownote"><span id="tab:descripcion">Table 1.1: </span>Modelos disponibles.</span><!--</caption>--></p>
<table>
<thead>
<tr class="header">
<th align="left">Modelo</th>
<th align="left">Experimento</th>
<th align="right"># de miembros</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">MIROC6</td>
<td align="left">historical</td>
<td align="right">100</td>
</tr>
<tr class="even">
<td align="left">ACCESS-ESM1-5</td>
<td align="left">historical</td>
<td align="right">80</td>
</tr>
<tr class="odd">
<td align="left">IPSL-CM6A-LR</td>
<td align="left">historical</td>
<td align="right">66</td>
</tr>
<tr class="even">
<td align="left">CNRM-CM6-1</td>
<td align="left">historical</td>
<td align="right">60</td>
</tr>
<tr class="odd">
<td align="left">MPI-ESM1-2-LR</td>
<td align="left">historical</td>
<td align="right">60</td>
</tr>
<tr class="even">
<td align="left">NorCPM1</td>
<td align="left">historical</td>
<td align="right">60</td>
</tr>
<tr class="odd">
<td align="left">CanESM5</td>
<td align="left">historical</td>
<td align="right">50</td>
</tr>
<tr class="even">
<td align="left">UKESM1-0-LL</td>
<td align="left">historical</td>
<td align="right">30</td>
</tr>
<tr class="odd">
<td align="left">GISS-E2-1-G</td>
<td align="left">historical</td>
<td align="right">24</td>
</tr>
<tr class="even">
<td align="left">CESM2</td>
<td align="left">historical</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="left">CNRM-ESM2-1</td>
<td align="left">historical</td>
<td align="right">21</td>
</tr>
<tr class="even">
<td align="left">INM-CM5-0</td>
<td align="left">historical</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="left">MPI-ESM1-2-HR</td>
<td align="left">historical</td>
<td align="right">20</td>
</tr>
<tr class="even">
<td align="left">FGOALS-g3</td>
<td align="left">historical</td>
<td align="right">12</td>
</tr>
<tr class="odd">
<td align="left">ACCESS-CM2</td>
<td align="left">historical</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">AWI-CM-1-1-MR</td>
<td align="left">historical</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">E3SM-1-0</td>
<td align="left">historical</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">HadGEM3-GC31-LL</td>
<td align="left">historical</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">NESM3</td>
<td align="left">historical</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">CanESM5</td>
<td align="left">hist-stratO3</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">IPSL-CM6A-LR</td>
<td align="left">hist-stratO3</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">MIROC6</td>
<td align="left">hist-stratO3</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">GISS-E2-1-G</td>
<td align="left">hist-stratO3</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">MRI-ESM2-0</td>
<td align="left">hist-stratO3</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">CanESM5</td>
<td align="left">hist-nat</td>
<td align="right">50</td>
</tr>
<tr class="even">
<td align="left">MIROC6</td>
<td align="left">hist-nat</td>
<td align="right">50</td>
</tr>
<tr class="odd">
<td align="left">GISS-E2-1-G</td>
<td align="left">hist-nat</td>
<td align="right">20</td>
</tr>
<tr class="even">
<td align="left">CNRM-CM6-1</td>
<td align="left">hist-nat</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">HadGEM3-GC31-LL</td>
<td align="left">hist-nat</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">IPSL-CM6A-LR</td>
<td align="left">hist-nat</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">MRI-ESM2-0</td>
<td align="left">hist-nat</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">ACCESS-CM2</td>
<td align="left">hist-nat</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">ACCESS-ESM1-5</td>
<td align="left">hist-nat</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">BCC-CSM2-MR</td>
<td align="left">hist-nat</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">CESM2</td>
<td align="left">hist-nat</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">FGOALS-g3</td>
<td align="left">hist-nat</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">GFDL-CM4</td>
<td align="left">hist-nat</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">GFDL-ESM4</td>
<td align="left">hist-nat</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">NorESM2-LM</td>
<td align="left">hist-nat</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">CanESM5</td>
<td align="left">hist-GHG</td>
<td align="right">50</td>
</tr>
<tr class="odd">
<td align="left">MIROC6</td>
<td align="left">hist-GHG</td>
<td align="right">50</td>
</tr>
<tr class="even">
<td align="left">CNRM-CM6-1</td>
<td align="left">hist-GHG</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">GISS-E2-1-G</td>
<td align="left">hist-GHG</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">IPSL-CM6A-LR</td>
<td align="left">hist-GHG</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">HadGEM3-GC31-LL</td>
<td align="left">hist-GHG</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">MRI-ESM2-0</td>
<td align="left">hist-GHG</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">ACCESS-CM2</td>
<td align="left">hist-GHG</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">ACCESS-ESM1-5</td>
<td align="left">hist-GHG</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">BCC-CSM2-MR</td>
<td align="left">hist-GHG</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">CESM2</td>
<td align="left">hist-GHG</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">E3SM-1-0</td>
<td align="left">hist-GHG</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">FGOALS-g3</td>
<td align="left">hist-GHG</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">NorESM2-LM</td>
<td align="left">hist-GHG</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">GFDL-ESM4</td>
<td align="left">hist-GHG</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>Voy a calcular los cEOF multimodelo como los cEOFs promedio.</p>
</div>
<div id="resultados" class="section level1">
<h1><span class="header-section-number">2</span> Resultados</h1>

<div class="figure"><span style="display:block;" id="fig:comparacion-r2-1"></span>
<p class="caption marginnote shownote">
Figure 2.1: <span class="math inline">\(r^2\)</span> de los patrones espaciales de cada modelo con ERA5 para cada cEOF. <a href="javascript:change_comparacion_r2('1')">Tendencioso</a>, <a href="javascript:change_comparacion_r2('2')">Destendenciado</a>
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/comparacion-r2-1.png" alt="\(r^2\) de los patrones espaciales de cada modelo con ERA5 para cada cEOF. Tendencioso, Destendenciado" width="576" id='comparacion-r2' />
</div>
<script>
function change_comparacion_r2(newVal){
  document.getElementById("comparacion-r2").src = "fig/35-cEOF-CMIP6-superensembleMAM//comparacion-r2-" + newVal + ".png";
}
</script>
<p>La Figura<a href="#fig:comparacion-r2"><strong>??</strong></a> muestra el <span class="math inline">\(r^2\)</span> de los modelos para los dos cEOFs.
Por alguna razn los valores del superensemble tienen menos correlacin que los miembros en promedio \_()_/.</p>
<div id="parte-espacial" class="section level2">
<h2><span class="header-section-number">2.1</span> Parte espacial</h2>
<p>Las Figuras<a href="#fig:ceofs-1-50"><strong>??</strong></a> y <a href="#fig:ceofs-1-200"><strong>??</strong></a> muestan el cEOF1 en 50 hPa y 200 hPa respectivamente.
En general los patrones son bastante similares, especialmente en la estratsfera, donde e patrn es de mayor escala y entonces hay menos chances de cosas que fallen.
Sin embargo, la localizacin de los centros no parece estar muy bien en algunos modelos.
En 50 hPa IPSL-CM6A-LR, CNRM-CM6-1 y CNRM-ESM2-1 tienen la onda corrida hacia el oeste y un r^2 relativamente bajo.</p>

<div class="figure fullwidth"><span style="display:block;" id="fig:ceofs-1-50-1"></span>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/ceofs-1-50-1.png" alt="Campos espaciales de cEOF1 en 50 hPa. Tendencioso, Destendenciado" width="960" id='ceofs-1-50' />
<p class="caption marginnote shownote">
Figure 2.2: Campos espaciales de cEOF1 en 50 hPa. <a href="javascript:change_ceofs_1_50('1')">Tendencioso</a>, <a href="javascript:change_ceofs_1_50('2')">Destendenciado</a>
</p>
</div>
<script>
function change_ceofs_1_50(newVal){
  document.getElementById("ceofs-1-50").src = "fig/35-cEOF-CMIP6-superensembleMAM//ceofs-1-50-" + newVal + ".png";
}
</script>

<div class="figure fullwidth"><span style="display:block;" id="fig:ceofs-1-200-1"></span>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/ceofs-1-200-1.png" alt="Campos espaciales de cEOF1 en 200 hPa. Tendencioso, Destendenciado" width="960" id='ceofs-1-200' />
<p class="caption marginnote shownote">
Figure 2.3: Campos espaciales de cEOF1 en 200 hPa. <a href="javascript:change_ceofs_1_200('1')">Tendencioso</a>, <a href="javascript:change_ceofs_1_200('2')">Destendenciado</a>
</p>
</div>
<script>
function change_ceofs_1_200(newVal){
  document.getElementById("ceofs-1-200").src = "fig/35-cEOF-CMIP6-superensembleMAM//ceofs-1-200-" + newVal + ".png";
}
</script>
<p>En 200 hPa la cosa es un poco ms compleja por los detalles de escala ms chica, pero en general parece bien.</p>
<p>En las Figuras<a href="#fig:ceofs-2-50"><strong>??</strong></a> y <a href="#fig:ceofs-2-200"><strong>??</strong></a> se muestran lo mismo que antes pero para el cEOF2.</p>

<div class="figure fullwidth"><span style="display:block;" id="fig:ceofs-2-50-1"></span>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/ceofs-2-50-1.png" alt="Campos espaciales de cEOF2 en 50 hPa. Tendencioso, Destendenciado" width="960" id='ceofs-2-50' />
<p class="caption marginnote shownote">
Figure 2.4: Campos espaciales de cEOF2 en 50 hPa. <a href="javascript:change_ceofs_2_50('1')">Tendencioso</a>, <a href="javascript:change_ceofs_2_50('2')">Destendenciado</a>
</p>
</div>
<script>
function change_ceofs_2_50(newVal){
  document.getElementById("ceofs-2-50").src = "fig/35-cEOF-CMIP6-superensembleMAM//ceofs-2-50-" + newVal + ".png";
}
</script>

<div class="figure fullwidth"><span style="display:block;" id="fig:ceofs-2-200-1"></span>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/ceofs-2-200-1.png" alt="Campos espaciales de cEOF2 en 200 hPa. Tendencioso, Destendenciado" width="960" id='ceofs-2-200' />
<p class="caption marginnote shownote">
Figure 2.5: Campos espaciales de cEOF2 en 200 hPa. <a href="javascript:change_ceofs_2_200('1')">Tendencioso</a>, <a href="javascript:change_ceofs_2_200('2')">Destendenciado</a>
</p>
</div>
<script>
function change_ceofs_2_200(newVal){
  document.getElementById("ceofs-2-200").src = "fig/35-cEOF-CMIP6-superensembleMAM//ceofs-2-200-" + newVal + ".png";
}
</script>
<div id="media-multimodelo" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Media multimodelo</h3>
<p>Finalmente, la Figura <a href="#fig:mmm"><strong>??</strong></a> muestra los patrones promedio multimodelo para cada cEOF y cada parte.</p>

<div class="figure"><span style="display:block;" id="fig:mmm-1"></span>
<p class="caption marginnote shownote">
Figure 2.6: Media multimodelo (sombreado) de los campos espaciales de cada cEOF, parte y nivel. Los contornos marcan los patrones de ERA5. El <span class="math inline">\(r^2\)</span> entre ERA5 y la media multimodelo est entre parntesis. <a href="javascript:change_mmm('1')">Tendencioso</a>, <a href="javascript:change_mmm('2')">Destendenciado</a>.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/mmm-1.png" alt="Media multimodelo (sombreado) de los campos espaciales de cada cEOF, parte y nivel. Los contornos marcan los patrones de ERA5. El \(r^2\) entre ERA5 y la media multimodelo est entre parntesis. Tendencioso, Destendenciado." width="960" id='mmm' />
</div>
<script>
function change_mmm(newVal){
  document.getElementById("mmm").src = "fig/35-cEOF-CMIP6-superensembleMAM//mmm-" + newVal + ".png";
}
</script>
<p>El patrn medio multimodelo es increblemente similar al patrn de ERA5, con niveles de <span class="math inline">\(r^2\)</span> del orden del 90%.</p>
<p>En base a esto y a la metodologa usada en la literatura, propongo que un prximo paso para evaluacin de atribucin o tendencias futuras use este patrn promedio para obtener las series temporales en vez de los propios de cada modelo.</p>
</div>
</div>
<div id="parte-temporal" class="section level2">
<h2><span class="header-section-number">2.2</span> Parte temporal</h2>
<p>Para analizar las propiedades de los modos de cada modelo uso las series temporales propias de cada modelo.</p>
<p>Las Figuras<a href="#fig:trends-1">2.7</a> y <a href="#fig:trends-1">2.7</a> muestran las tendencias lineales de cada cEOF.
El recurado gris marca la regin aproximada de insignificancia estadstica al 5% (<span class="math inline">\(\pm\)</span> 2 errores estndar) y la conclusin es que no hay tendencias significativas.</p>

<div class="figure"><span style="display:block;" id="fig:trends-1"></span>
<p class="caption marginnote shownote">
Figure 2.7: Tendencias durante todo el perodo (en desvos estndares por dcada) para la parte real e imaginaria del cEOF1 de cada miembro de cada modelo. Los puntos vacos y llenos tienen un p-valor mayor y menor a 0.05, respectivamente.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/trends-1-1.png" alt="Tendencias durante todo el perodo (en desvos estndares por dcada) para la parte real e imaginaria del cEOF1 de cada miembro de cada modelo. Los puntos vacos y llenos tienen un p-valor mayor y menor a 0.05, respectivamente." width="768" id='trends-1' />
</div>

<div class="figure"><span style="display:block;" id="fig:trends-2"></span>
<p class="caption marginnote shownote">
Figure 2.8: Igual que la Figura <a href="#fig:trends-1">2.7</a> pero para el cEOF2.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/trends-2-1.png" alt="Igual que la Figura 2.7 pero para el cEOF2." width="768" id='trends-2' />
</div>
<p>Las Figuras<a href="#fig:fft-1">2.9</a> y <a href="#fig:fft-2">2.10</a> muestran periodogramas para cada cEOF con una lnea por miembro y una lnea gruesa marcando el periodograma promedio.</p>

<div class="figure"><span style="display:block;" id="fig:fft-1"></span>
<p class="caption marginnote shownote">
Figure 2.9: Espectros de Fourier para la parte Real e Imaginaria del cEOF1. En lnea obscura es el espectro promedio de todos los miembros, que se muestran en lneas translcidas.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/fft-1-1.png" alt="Espectros de Fourier para la parte Real e Imaginaria del cEOF1. En lnea obscura es el espectro promedio de todos los miembros, que se muestran en lneas translcidas." width="960" id='fft-1' />
</div>
<p>Para el cEOF1, no hay mucha seal. Algunos miembros tienen seales altas pero en el promedio es bsicamente chato, coincidente con ERA5.</p>

<div class="figure"><span style="display:block;" id="fig:fft-2"></span>
<p class="caption marginnote shownote">
Figure 2.10: Igual que Figura <a href="#fig:fft-1">2.9</a> pero para el cEOF2. En recuadro negro, modelos que tienen un perodo importante cerca de 3 aos en la parte imaginaria del cEOF2 (slo para MAM).
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/fft-2-1.png" alt="Igual que Figura 2.9 pero para el cEOF2. En recuadro negro, modelos que tienen un perodo importante cerca de 3 aos en la parte imaginaria del cEOF2 (slo para MAM)." width="960" id='fft-2' />
</div>
<p>Para el cEOF2, algunos modelos tiene una seal consistente de ~3 aos en la parte imaginaria, tambin consistente con ERA5.
Sin embargo, la seal no aparece en todos los modelos.</p>
<p>Dada la relacin entre ENSO y el cEOF2 se puede ver si los modelos que tienen la periodicidad clara de 3 aos tambin tienen esa periodicidad en el ENSO.</p>
<p>La Figura <a href="#fig:ensofft">2.11</a> Muestra los periodogramas del el ndice de ENSO34 de cada modelo y miembro.
Se ve que, en efecto, los modelos seleccionados antes tienen un perodo en el ENSO ms claro que el resto.</p>

<div class="figure"><span style="display:block;" id="fig:ensofft"></span>
<p class="caption marginnote shownote">
Figure 2.11: Espectros de Fourier para los ndices ENSO34 de cada modelo. En lnea obscura es el espectro promedio de todos los miembros, que se muestran en lneas translcidas. En recuadro negro, los mismos modelos recuadrados en la Figura <a href="#fig:fft-2">2.10</a>.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/ensofft-1.png" alt="Espectros de Fourier para los ndices ENSO34 de cada modelo. En lnea obscura es el espectro promedio de todos los miembros, que se muestran en lneas translcidas. En recuadro negro, los mismos modelos recuadrados en la Figura 2.10." width="864" id='ensofft' />
</div>
</div>
<div id="sst" class="section level2">
<h2><span class="header-section-number">2.3</span> SST</h2>
<p>Finalmente, queremos evaluar si los modelos capturan correctamente la relacin entre los modos y las anomalas de temperatura de la superficie del mar.</p>

<p>La Figura <a href="#fig:sst-1"><strong>??</strong></a> muetra la regresin para el cEOF1.
Todos los modelos tienne valores de regresin altos y significativos en casi todo el globo.
Esto no es consistente con lo observado en ERA5, en donde no hay relacin entre el cEOF1 y las SSTs.</p>
<div class="figure"><span style="display:block;" id="fig:sst-1-1"></span>
<p class="caption marginnote shownote">
Figure 2.12: Regresin de cEOF1 con la SST para la parte real e imaginaria. <a href="javascript:change_sst_1('1')">Tendencioso</a>, <a href="javascript:change_sst_1('2')">Destendenciado</a>
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/sst-1-1.png" alt="Regresin de cEOF1 con la SST para la parte real e imaginaria. Tendencioso, Destendenciado" width="672" id='sst-1' />
</div>
<script>
function change_sst_1(newVal){
  document.getElementById("sst-1").src = "fig/35-cEOF-CMIP6-superensembleMAM//sst-1-" + newVal + ".png";
}
</script>

<div class="figure"><span style="display:block;" id="fig:sst-2-1"></span>
<p class="caption marginnote shownote">
Figure 2.13: Igual que Figura <a href="#fig:sst-1"><strong>??</strong></a> pero para el cEOF2. <a href="javascript:change_sst_2('1')">Tendencioso</a>, <a href="javascript:change_sst_2('2')">Destendenciado</a>
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/sst-2-1.png" alt="Igual que Figura ?? pero para el cEOF2. Tendencioso, Destendenciado" width="672" id='sst-2' />
</div>
<script>
function change_sst_2(newVal){
  document.getElementById("sst-2").src = "fig/35-cEOF-CMIP6-superensembleMAM//sst-2-" + newVal + ".png";
}
</script>
<p>La Figura <a href="#fig:sst-2"><strong>??</strong></a> muestra lo mismo para el cEOF2.
Este modo tambin muestra regresiones signifiativas en todo el globo.
El patrn en la regin ENSO es ms o menos consistente con ERA5: relacin positva con la parte imaginaria y casi ceo con la real.
Sin embargo, en este modo tambin las relaciones significativas son mucho mayores que en ERA5.</p>
<p>La Figura <a href="#fig:sst-mmm">2.14</a> muestra el promedio multimodelo de estas regresiones.</p>

<div class="figure"><span style="display:block;" id="fig:sst-mmm"></span>
<p class="caption marginnote shownote">
Figure 2.14: Promedio multimodelo de las regresiones de las figuras <a href="#fig:sst-1"><strong>??</strong></a> y <a href="#fig:sst-2"><strong>??</strong></a>.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/sst-mmm-1.png" alt="Promedio multimodelo de las regresiones de las figuras ?? y ??." width="864" id='sst-mmm' />
</div>
</div>
</div>
<div id="serie-temporal-larga" class="section level1">
<h1><span class="header-section-number">3</span> Serie temporal larga</h1>
<p>Hay dos formas de extender los cEOFS para odo el perodo, puedo recomputar el cEOF usando todos los datos, o puedo proyectar los campos obtenidos.
La primera es ms natural, pero tiene el inconveniente de que la interpretacin depende de que los cEOFs obtenidos seaon comparables (los campos sean iguales o similares).</p>
<p>En esta seccin trabajo todo con tendecia.</p>

<div class="figure"><span style="display:block;" id="fig:cors-periodo"></span>
<p class="caption marginnote shownote">
Figure 3.1: Correlacin entre el cEOF espacial computado con el perodo modero y el computado con el perodo 18501910.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/cors-periodo-1.png" alt="Correlacin entre el cEOF espacial computado con el perodo modero y el computado con el perodo 18501910." width="480" id='cors-periodo' />
</div>
<script>
function change_tendencias(newVal){
  document.getElementById("tendencias").src = "fig/35-cEOF-CMIP6-superensembleMAM/tendencias-" + newVal + ".png";
}
</script>

<div class="figure"><span style="display:block;" id="fig:correlacion-metodos"></span>
<p class="caption marginnote shownote">
Figure 3.2: Correlacin entre las series temporales de cada modelo, miembro, cEOF y parte calculadas como los cEOF de toda la serie o proyectando los campos obtenidos con el perodo moderno.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/correlacion-metodos-1.png" alt="Correlacin entre las series temporales de cada modelo, miembro, cEOF y parte calculadas como los cEOF de toda la serie o proyectando los campos obtenidos con el perodo moderno." width="576" id='correlacion-metodos' />
</div>
<p>Por suerte, no hace falta elegir ya que ambos mtodos dan prcticamente el mismo resultado, como se ve en la Figura <a href="#fig:correlacion-metodos">3.2</a>.</p>
<p>Por las ventajas de interpretacin y dems, vamos a seguir con la proyeccin.</p>
<div id="series" class="section level2">
<h2><span class="header-section-number">3.1</span> Series</h2>

<div class="figure"><span style="display:block;" id="fig:tendencia"></span>
<p class="caption marginnote shownote">
Figure 3.3: Series temporales de anomalas estandarizadas de los cEOFs computados usando el perodo 1850  1970. Las anomalas estn computadas sobre el perodo 1850  1900. En lneas translcidas, las series promedio de cada modelo. En lnea oscura, la media multimodelo. La lnea azul es un loess smooth de la media multimodelo.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/tendencia-1.png" alt="Series temporales de anomalas estandarizadas de los cEOFs computados usando el perodo 1850  1970. Las anomalas estn computadas sobre el perodo 1850  1900. En lneas translcidas, las series promedio de cada modelo. En lnea oscura, la media multimodelo. La lnea azul es un loess smooth de la media multimodelo." width="576" id='tendencia' />
</div>
<p>La Figura <a href="#fig:tendencia">3.3</a> muestra las series temporales de los cEOfs.
Se ve que la parte real del cEOF1 tiene una tendencia a la alza bien clara.
Las otras series no tienen tendencias.</p>
<p>El cEOF2 real tiene una pequea tendencia que se ve en la media multimodelo.</p>

<p>Campos espaciales de cEOF1 en 50 hPa. <a href="javascript:change_series_largas('1')">Todos los modelos</a>, <a href="javascript:change_series_largas('2')">Slo modelos con todos los experimentos</a></p>
<div class="figure"><span style="display:block;" id="fig:series-largas-1"></span>
<p class="caption marginnote shownote">
Figure 3.4: Igual que la Figura <a href="#fig:tendencia">3.3</a> pero para todos los
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/series-largas-1.png" alt="Igual que la Figura 3.3 pero para todos los" width="672" id='series-largas' />
</div>
<script>
function change_series_largas(newVal){
  document.getElementById("series-largas").src = "fig/35-cEOF-CMIP6-superensembleMAM//series-largas-" + newVal + ".png";
}
</script>

<div class="figure"><span style="display:block;" id="fig:tendencias-largas"></span>
<p class="caption marginnote shownote">
Figure 3.5: Igual que la Figura <a href="#fig:trends-1">2.7</a> pero para el perodo 1950  2014.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/tendencias-largas-1.png" alt="Igual que la Figura 2.7 pero para el perodo 1950  2014." width="768" id='tendencias-largas' />
</div>
<p>La Figura <a href="#fig:tendencias-largas">3.5</a> reproduce las Figuras <a href="#fig:trends-1">2.7</a> y <a href="#fig:trends-2">2.8</a> para el perodo empezando en 1950.</p>

<div class="figure"><span style="display:block;" id="fig:tendencias-roll"></span>
<p class="caption marginnote shownote">
Figure 3.6: Tendencias estandarizadas (con el perodo 1850  1900 como base) estimadas en ventanas de 20 aos. En lneas translcidas las tendencias calculadas con el cEOF medio de cada modelo y en lnea negra la tendencia de la media multimodelo.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/tendencias-roll-1.png" alt="Tendencias estandarizadas (con el perodo 1850  1900 como base) estimadas en ventanas de 20 aos. En lneas translcidas las tendencias calculadas con el cEOF medio de cada modelo y en lnea negra la tendencia de la media multimodelo." width="672" id='tendencias-roll' />
</div>
<p>La Figura <a href="#fig:tendencias-roll">3.6</a> muetra las tendencias de la media de cada modelo calculada en ventanas de 20 aos.
Se obseva la tendencia positiva de la parte real del cEOF1 que compienza al rededor de 1980.
Por otro lado, tambin se ve que la parte real del cEOF2 tiene una pequea tendencia.</p>

<div class="figure"><span style="display:block;" id="fig:tendencia-mod"></span>
<p class="caption marginnote shownote">
Figure 3.7: Amplitud promedio de cada modo en cada modelo (lneas translcidas) y la amplitud media multimodelo (lnea negra).
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/tendencia-mod-1.png" alt="Amplitud promedio de cada modo en cada modelo (lneas translcidas) y la amplitud media multimodelo (lnea negra)." width="672" id='tendencia-mod' />
</div>
<p>La tendencia del cEOF1 Real se destaca en el cambio en la amplitud del cEOF1.
La amplitud del cEOF2 tambin aument ligeramente.</p>

<div class="figure"><span style="display:block;" id="fig:varianza-roll"></span>
<p class="caption marginnote shownote">
Figure 3.8: Varianza de los ndices estimadas en ventanas de 20 aos.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/varianza-roll-1.png" alt="Varianza de los ndices estimadas en ventanas de 20 aos." width="672" id='varianza-roll' />
</div>

<div class="figure"><span style="display:block;" id="fig:varianza-mod-roll"></span>
<p class="caption marginnote shownote">
Figure 3.9: Desvo estndard del mdulo de los cEOFs estimada en ventanas de 20 aos.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/varianza-mod-roll-1.png" alt="Desvo estndard del mdulo de los cEOFs estimada en ventanas de 20 aos." width="672" id='varianza-mod-roll' />
</div>

<div class="figure"><span style="display:block;" id="fig:tendencia-r2"></span>
<p class="caption marginnote shownote">
Figure 3.10: Varianza explicada por cada modo en cada modelo (lneas translcidas) y la varianza explicada media multimodelo (lnea negra).
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/tendencia-r2-1.png" alt="Varianza explicada por cada modo en cada modelo (lneas translcidas) y la varianza explicada media multimodelo (lnea negra)." width="672" id='tendencia-r2' />
</div>

<div class="figure"><span style="display:block;" id="fig:tendencias"></span>
<p class="caption marginnote shownote">
Figure 3.11: Tendencias en <a href="javascript:change_tendencias(&#39;50&#39;)">50hPa</a> o <a href="javascript:change_tendencias(&#39;200&#39;)">200hPa</a>.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/tendencias-50.png" alt="Tendencias en 50hPa o 200hPa." width="900" id='tendencias' />
</div>

<div class="figure"><span style="display:block;" id="fig:fft-1l"></span>
<p class="caption marginnote shownote">
Figure 3.12: Igual que Figura <a href="#fig:fft-1">2.9</a> pero para el perodo 1850  2014.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/fft-1l-1.png" alt="Igual que Figura 2.9 pero para el perodo 1850  2014." width="864" id='fft-1l' />
</div>

<div class="figure"><span style="display:block;" id="fig:fft-2l"></span>
<p class="caption marginnote shownote">
Figure 3.13: Igual que Figura <a href="#fig:fft-2">2.10</a> pero para el perodo 1850  2014.
</p>
<img src="fig/35-cEOF-CMIP6-superensembleMAM/fft-2l-1.png" alt="Igual que Figura 2.10 pero para el perodo 1850  2014." width="864" id='fft-2l' />
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
